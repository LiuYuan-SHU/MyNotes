$(function(){function e(){return!!window.navigator.userAgent.toLowerCase().match(/(csdn)/i)||!!l}function n(e){if(void 0!==typeof e&&null!==e&&""!==e)return e=e.toLowerCase(),class_name="hl-1",class_name}function t(e){return void 0===e||null===e||""===e}function o(e,n){t(n)||(n=n.toLowerCase().replace(/(^\s*)|(\s*$)/g,""),t(n)||(n.indexOf(" ")>0?$.each(n.split(/ +/g),function(n,t){o(e,t)}):"..."!==n&&n.length>1&&"&nbsp;"!==n&&"csdn"!==n&&"||"!==n&&(e[n]=0)))}function r(e){var n={};keyword=e.join(" "),o(n,keyword);var t=Object.keys(n);return t.sort(function(e,n){return n.length-e.length}),t}function i(t,o){for(var r=(o.html(),""),i=o.context.childNodes,a=0;a<i.length;a++){var s=i[a];if("#text"===s.nodeName){var l=s.textContent.replace(/</gi,"&lt;"),u=/[\u4e00-\u9fa5]/gi,w=t.map(function(e){return u.test(e)?e:"\\b"+e+"\\b"}),p=new RegExp(w.join("|"),"ig"),h=!1;l=l.replace(p,function(t){var o=t.toLowerCase(),r="https://so.csdn.net/so/search?q="+encodeURIComponent(t)+"&spm=1001.2101.3001.7020";r=e()?"csdnapp://app.csdn.net/search/searchRoot?keyword="+encodeURIComponent(t)+"&t=blog&u="+username:r;var i='{"spm":"1001.2101.3001.7020","dest":"'+r+'"}';return c[o]>=1||d===o||h?t:(h=!0,c[o]=c[o]?c[o]+1:1,d=o,e()?'<a data-href="'+r+'" class="app-hl hl '+n(o)+'" data-report-click='+i+">"+t+"</a>":'<a href="'+r+'" target="_blank" class="hl '+n(o)+'" data-report-view='+i+" data-report-click="+i+">"+t+"</a>")}),r+=l}else r+=s.outerHTML}o[0].innerHTML=r,e()||window.csdn.report.viewCheck()}function a(){$("a.app-hl").off("click"),$("a.app-hl").click(function(e){e.preventDefault();var n=$(this).data("href"),t=$(this).attr("data-report-click"),o={trackingInfo:t,action:"app_blog_highlight"},r={url:n};w&&(window.jsCallBackListener.csdntrackevent(JSON.stringify(o)),window.jsCallBackListener.csdnjumpnewpage(JSON.stringify(r))),p&&(window.webkit.messageHandlers.csdntrackevent.postMessage(JSON.stringify(o)),window.webkit.messageHandlers.csdnjumpnewpage.postMessage(JSON.stringify(r)))})}function s(){window.keyword_list_init=!0,$.ajax({type:"GET",url:"https://redisdatarecall.csdn.net/recommend/get_head_word?bid=blog-"+articleId,dataType:"json",timeout:2e3,xhrFields:{withCredentials:!0},success:function(n){if(200==n.status&&n.content){var t=r(n.content);if(void 0===t||0===t.length)return;window.keyword_list=t;var o=$("#content_views").find("p,h1,h2,h3,h4,h5,h6");window.keyword_list_doms=o,$.each(o,function(e,n){var n=$(n);i(t,n)}),e()&&a()}}})}var c={},d="",l=!!window.isApp&&window.isApp,u=navigator.userAgent,w=u.indexOf("Android")>-1||u.indexOf("Adr")>-1,p=!!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),h=void 0!==window.showHeadWord&&window.showHeadWord;h&&s()}),function(){function e(){return!!window.navigator.userAgent.toLowerCase().match(/(phone|pad|pod|iphone|ipod|ios|ipad|android|mobile|blackberry|iemobile|mqqbrowser|juc|fennec|wosbrowser|browserng|webos|symbian|windows phone)/i)}function n(){return!!window.navigator.userAgent.toLowerCase().match(/(csdn)/i)}function t(){var t=null;t=e()?document.querySelectorAll('[class^="container-fluid container-fluid-flex container-"]'):n()?document.querySelectorAll('[class^="recommend_item type_"]'):document.querySelectorAll('[class^="recommend-item-box type_"]'),null!==t&&t.length<=5&&$.get("https://statistic.csdn.net/blog/recommend?count="+t.length+"&articleId="+articleId)}t()}();