```toc
```
# å†æ¢è¿­ä»£å™¨

å¤‡æ³¨: ç§»åŠ¨æ„é€ å™¨ç¬”è®°æœªå†™

```mermaid
graph LR;
head[å¤´æ–‡ä»¶ iterator] --> æ’å…¥è¿­ä»£å™¨ & æµè¿­ä»£å™¨ & åå‘è¿­ä»£å™¨ & ç§»åŠ¨è¿­ä»£å™¨
```

# æ’å…¥è¿­ä»£å™¨â€”â€”insert iterator

> æ’å…¥å™¨æ˜¯ä¸€ç§è¿­ä»£å™¨é€‚é…å™¨ï¼Œå®ƒæ¥å—ä¸€ä¸ªå®¹å™¨ï¼Œç”Ÿæˆä¸€ä¸ªè¿­ä»£å™¨ï¼Œèƒ½å®ç°å‘ç»™å®šå®¹å™¨æ·»åŠ å…ƒç´ ã€‚å½“æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªæ’å…¥è¿­ä»£å™¨è¿›è¡Œèµ‹å€¼æ—¶ï¼Œè¯¥è¿­ä»£å™¨è°ƒç”¨å®¹å™¨æ“ä½œæ¥å‘ç»™å®šå®¹å™¨çš„æŒ‡å®šä½ç½®æ’å…¥ä¸€ä¸ªå…ƒç´ 
> 

<aside>
ğŸ“Œ åªæœ‰åœ¨å®¹å™¨æ”¯æŒ`push_front`çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ‰å¯ä»¥ä½¿ç”¨`front_inserter`ã€‚

åªæœ‰åœ¨å®¹å™¨æ”¯æŒ`push_back`çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ‰å¯ä»¥ä½¿ç”¨`back_inserter`

</aside>

| æ“ä½œ | å«ä¹‰ |
| --- | --- |
| it = t | åœ¨itæŒ‡å®šçš„å½“å‰ä½ç½®æ’å…¥tï¼Œå‡å®šcæ˜¯itç»‘å®šçš„å®¹å™¨ï¼Œä¾èµ–äºæ’å…¥è¿­ä»£å™¨çš„ä¸åŒç§ç±»ï¼Œæ­¤èµ‹å€¼ä¼šåˆ†åˆ«è°ƒç”¨c.push_back() / c.push_front() / c.insert(t, p)ï¼Œå…¶ä¸­pä¸ºä¼ é€’ç»™inserterçš„è¿­ä»£å™¨ä½ç½® |
| *it, ++it, it++ | è¿™äº›æ“ä½œè™½ç„¶å­˜åœ¨ï¼Œä½†ä¸ä¼šå¯¹itåšä»»ä½•äº‹æƒ…ï¼Œæ¯ä¸€ä¸ªæ“ä½œéƒ½è¿”å›it |

```mermaid
graph LR;
æ’å…¥å™¨ --> back[å‡½æ•°back_inserter] & front[å‡½æ•°front_inserter] & inserter
back --> åˆ›å»ºä¸€ä¸ªä½¿ç”¨push_backçš„è¿­ä»£å™¨
front --> åˆ›å»ºä¸€ä¸ªä½¿ç”¨push_frontçš„è¿­ä»£å™¨
inserter --> åˆ›å»ºä¸€ä¸ªä½¿ç”¨insertçš„è¿­ä»£å™¨._å‡½æ•°æ¥æ”¶ç¬¬äºŒä¸ªå‚æ•°,_è¿™ä¸ªå‚æ•°å¿…é¡»æ˜¯ä¸€ä¸ªæŒ‡å‘ç»™å®šå®¹å™¨çš„è¿­ä»£å™¨._å…ƒç´ å°†è¢«æ’å…¥åˆ°ç»™å®šè¿­ä»£å™¨ä¹‹å‰

```

## `back_inserter`

```cpp
vector<int> vec;
auto it = back_inserter(vec);
*it = 42; // vec.push_back(42);
```

```cpp
vector<int> vec;
// é”™è¯¯
fill_n(vec.begin(), 10, 0);
// æ­£ç¡®
fill_n(back_inserter(vec), 10, 0);
```

å³ä¾§ä»£ç å—ç¬¬ä¸€ä¸ªè¯­å¥é”™è¯¯çš„åŸå› æ˜¯ï¼šæ³›å‹å†™å…¥ç®—æ³•å¹¶ä¸è€ƒè™‘å®¹å™¨ä¸­æ˜¯å¦æœ‰è¿™ä¹ˆå¤šç©ºé—´ï¼Œå®ƒåªè¿›è¡Œå†™å…¥ã€‚è€Œæ˜¾ç„¶æˆ‘ä»¬æ²¡æœ‰è¿™ä¹ˆå¤šç©ºé—´ã€‚

è€Œç¬¬äºŒä¸ªè¯­å¥æ­£ç¡®çš„åŸå› å°±å¾ˆå®¹æ˜“ç†è§£äº†ï¼Œå¯¹`back_inserter`è¿”å›çš„è¿­ä»£å™¨è¿›è¡Œèµ‹å€¼æ“ä½œï¼Œå…¶å®å°±æ˜¯å¯¹`vector`è¿›è¡Œ`push_back`

## `inserter`

```cpp
auto it = inserter(vec, ite);
*it = val;
```

```cpp
it = vec.insert(it, val);
++it;
```

å·¦å³ä¸¤ä¾§ä»£ç çš„æ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚å¯ä»¥çœ‹ä¸‹é¢çš„ä»£ç è¿›è¡Œè¿›ä¸€æ­¥äº†è§£ï¼š

```cpp
#include <iterator>
#include <iostream>
#include <vector>
#include <algorithm>

using namespace std;

int main()
{
        vector<int> vec({5});
        auto ite = find(vec.begin(), vec.end(), 5);
// insertå‡½æ•°è¿”å›ä¸€ä¸ªæŒ‡å‘æ·»åŠ å…ƒç´ çš„è¿­ä»£å™¨ï¼Œä¹Ÿå°±æ˜¯ä¼šè¿”å›æŒ‡å‘10çš„è¿­ä»£å™¨
// å¦‚æœæˆ‘ä»¬æƒ³è¦ç»§ç»­æ·»åŠ ï¼Œé‚£ä¹ˆå°±éœ€è¦å°†iteå‘åç§»åŠ¨ä¸€ä¸ªä½ç½®
        ite = vec.insert(ite, 10);
        ++ite;
        for_each(vec.begin(), vec.end(), [](const int& i) { cout << i << ' '; });
        cout << endl;
        cout << "the location of ite: " << ite - vec.begin() << endl;

// æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä½¿ç”¨inserterè¿”å›çš„è¿­ä»£å™¨æ’å…¥å…ƒç´ 
// å¯ä»¥å‘ç°ï¼Œæˆ‘ä»¬å¹¶ä¸éœ€è¦äººä¸ºåœ°å‘åæŒªåŠ¨è¿­ä»£å™¨ï¼Œå®ƒä¼šè‡ªåŠ¨ç§»åŠ¨
        auto it = inserter(vec, ite);
        *it = 15;
        *it = 20;
        for_each(vec.begin(), vec.end(), [](const int& i) { cout << i << ' '; });
        cout << endl;
}
```

```
è¾“å‡ºï¼š
10 5
the location of ite: 1
10 15 20 5
```

## `front_inserter`

```
list<int> lst = {1, 2, 3, 4};
list<int> lst2, lst3;
copy(lst.begin(), lst.end(), front_inserter(lst2));         // lst2: 4, 3, 2, 1
copy(lst.begin(), lst.end(), inserter(lst3, lst3.begin())); // lst3: 1, 2, 3, 4
```

`front_inserter`è¿”å›çš„è¿­ä»£å™¨ï¼Œæ¯å¯¹è¿­ä»£å™¨è¿›è¡Œä¸€æ¬¡èµ‹å€¼æ“ä½œï¼Œå°±ç›¸å½“äºè¿›è¡Œä¸€æ¬¡`push_front`

è€Œ`inserter`è¿”å›çš„è¿­ä»£å™¨ï¼Œæ¯å¯¹è¿­ä»£å™¨è¿›è¡Œä¸€æ¬¡èµ‹å€¼æ“ä½œï¼Œè¿­ä»£å™¨å°±ä¼šæŒ‡å‘æ’å…¥å…ƒç´ çš„åä¸€ä¸ªä½ç½®

# æµè¿­ä»£å™¨â€”â€”stream iterator

è™½ç„¶`iostream`ç±»å‹ä¸æ˜¯å®¹å™¨ï¼Œä½†è¿™äº›è¿­ä»£å™¨èƒ½å¤Ÿå°†å®ƒä»¬å¯¹åº”çš„æµå½“åšä¸€ä¸ªç‰¹å®šç±»å‹çš„å…ƒç´ åºåˆ—æ¥å¤„ç†ã€‚**é€šè¿‡ä½¿ç”¨æµè¿­ä»£å™¨ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨æ³›å‹ç®—æ³•ä»æµå¯¹è±¡è¯»å–æ•°æ®ä»¥åŠå‘å…¶å†™å…¥æ•°æ®ã€‚**

## `istream_iterator`

> **å½“åˆ›å»ºä¸€ä¸ªæµè¿­ä»£å™¨æ—¶ï¼Œå¿…é¡»æŒ‡å®šè¿­ä»£å™¨å°†è¦è¯»å†™çš„å¯¹è±¡ç±»å‹ã€‚**`istream_iterator`è¦è¯»å–çš„ç±»å‹å¿…é¡»å®šä¹‰äº†è¾“å…¥è¿ç®—ç¬¦ã€‚åœ¨åˆ›å»ºçš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶ç»‘å®šåˆ°ä¸€ä¸ªæµï¼Œä¹Ÿå¯ä»¥é»˜è®¤åˆå§‹åŒ–è¿­ä»£å™¨ï¼Œä»åˆ›å»ºä¸€ä¸ªå¯ä»¥å½“åšå°¾åå€¼ä½¿ç”¨çš„è¿­ä»£å™¨ã€‚
> 

```cpp
istream_iterator<int> int_it(cin);     // ä»cinä¸­è¯»å–int
istream_iterator<int> int_eof;         // å°¾åè¿­ä»£å™¨
ifstream in("afile");
istream_iterator<string> str_it(int);  // ä»"afile"ä¸­è¯»å–å­—ç¬¦ä¸²
```

<aside>
ğŸ“Œ **ç¤ºä¾‹ï¼šä»`istream_iterator`ä»æ ‡å‡†è¾“å…¥è¯»å–æ•°æ®ï¼Œå­˜å…¥ä¸€ä¸ª`vector`**

```cpp
istream_iterator<int> in_iter(cin);  // ä»cinè¯»å–int
istream_iterator<int> eof;      // å°¾åè¿­ä»£å™¨
while (in_iter != eof)
{
	vec.push_back(*in_iter++);
}
```

å½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ›´ç®€ä¾¿çš„å†™æ³•ï¼š

```cpp
istream_iterator<int> in_iter(cin), eof;
vector<int> vec(in_iter, eof);  // ä½¿ç”¨è¿­ä»£å™¨èŒƒå›´æ„é€ vec
```

</aside>

## ä½¿ç”¨ç®—æ³•æ“ä½œæµè¿­ä»£å™¨

ç”±äºç®—æ³•æ˜¯ç”¨è¿­ä»£å™¨æ“ä½œæ¥å¤„ç†æ•°æ®ï¼Œè€Œæµè¿­ä»£å™¨åˆè‡³å°‘æ”¯æŒæŸäº›è¿­ä»£å™¨æ“ä½œï¼Œå› æ­¤æˆ‘ä»¬è‡³å°‘å¯ä»¥ç”¨æŸäº›ç®—æ³•æ¥æ“ä½œæµè¿­ä»£å™¨ã€‚

```cpp
// è®¡ç®—cinä¸­æ•´æ•°çš„å’Œ
istream_iterator<int> in(cin), eof;
cout << accumulate(in, eof, 0);
```

## `ostream_iterator`

æˆ‘ä»¬å¯ä»¥å¯¹ä»»ä½•å…·æœ‰è¾“å‡ºè¿ç®—ç¬¦`<<`çš„ç±»å‹å®šä¹‰`ostream_iterator`ã€‚å½“åˆ›å»ºä¸€ä¸ª`ostream_iterator`çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥æä¾›ç¬¬äºŒä¸ªå‚æ•°ï¼Œå®ƒæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œåœ¨è¾“å‡ºæ¯ä¸€ä¸ªå…ƒç´ ä¹‹åéƒ½ä¼šæ‰“å°è¿™ä¸ªå­—ç¬¦ä¸²ã€‚åŒæ—¶ï¼Œ**è¿™ä¸ªå­—ç¬¦ä¸²å¿…é¡»æ˜¯Cé£æ ¼å­—ç¬¦ä¸²ã€‚**`ostream_iterator`å¿…é¡»è¢«ç»‘å®šåˆ°ä¸€ä¸ªè¾“å‡ºæµï¼Œä¸å…è®¸ç©ºæ„é€ æˆ–è¡¨ç¤ºå°¾åä½ç½®çš„`ostrea_iterator`

è™½ç„¶æˆ‘ä»¬å¯¹`ostream_iterator`è¿›è¡Œè§£å¼•ç”¨æ“ä½œæˆ–è€…é€’å¢è¿ç®—è¿”å›çš„éƒ½æ˜¯å¯¹è±¡æœ¬èº«ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜æ˜¯åº”è¯¥å†™ä¸Šï¼Œè¿™æ˜¯ä¸ºäº†ä¿è¯ä»£ç é£æ ¼çš„ä¸€è‡´æ€§ã€‚æˆ‘ä»¬å¯ä»¥ç”¨`ostream_iterator`æ¥è¾“å‡ºå€¼çš„åºåˆ—ï¼š

```cpp
ostream_iterator<int> out_iter(cout, " ");
for (auto e : vec)
{
	*out_iter++ = e;
}
cout << endl;
```

```cpp
ostream_iterator<int> out_iter(cout, " ");
// å·¦å³ä¾§ä»£ç ä¸€æ ·ï¼Œä½†æ˜¯ä¸ºäº†é£æ ¼çš„ç»Ÿä¸€ï¼Œæ›´æ¨èä½¿ç”¨å·¦ä¾§é£æ ¼ä»£ç 
for (auto e : vec)
{
	out_iter = e;
}
cout << endl;
```

<aside>
ğŸ“Œ **é‡è¦åº”ç”¨ï¼šæˆ‘ä»¬é€šå¸¸ä½¿ç”¨`copy`æ¥å‘è¾“å‡ºæµè¿›è¡Œå®¹å™¨çš„æ‰“å°**

```cpp
copy(vec.begin(), vec.end(), out_iter);
cout << endl;
```

</aside>

## ä½¿ç”¨æµè¿­ä»£å™¨å¤„ç†ç±»ç±»å‹

**å°±å¦‚åŒæˆ‘ä»¬å¯ä»¥ç”¨`ostream_iterator`å¤„ç†å®šä¹‰äº†`<<`æ“ä½œçš„ç±»ä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨`istream_iterator`å¤„ç†å®šä¹‰äº†`>>`çš„å¯¹è±¡**

## ç¤ºä¾‹

### ç¼–å†™ç¨‹åºï¼Œä½¿ç”¨æµè¿­ä»£å™¨è¯»å–ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œå­˜å…¥ä¸€ä¸ª`vector`ä¸­çš„`string`é‡Œ

```cpp
// test.txt
// hello world !

int main()
{
        ifstream fin("./test.txt", ifstream::in);
        istream_iterator<string> in_iter(fin);
        vector<string> vec(in_iter, istream_iterator<string>());
        copy(vec.cbegin(), vec.cend(), ostream_iterator<string>(cout, "\t"));
}

// è¾“å‡ºï¼š hello   world   !
```

### ä½¿ç”¨æµè¿­ä»£å™¨ã€`sort`å’Œ`copy`ä»æ ‡å‡†è¾“å…¥è¯»å–ä¸€ä¸ªæ•´æ•°åºåˆ—ï¼Œå°†å…¶æ’åºå¹¶å°†ç»“æœå†™åˆ°æ ‡å‡†è¾“å‡º

```cpp
int main()
{
        istream_iterator<int> in_iter(cin), eof;
        vector<int> vec(in_iter, eof);
        sort(vec.begin(), vec.end());
        copy(vec.begin(), vec.end(),
                        ostream_iterator<int>(cout, " "));
}
```

### ä¿®æ”¹å‰ä¸€é¢˜ç¨‹åºï¼Œä½¿å…¶åªæ‰“å°ä¸é‡å¤çš„å…ƒç´ ã€‚ä½ çš„ç¨‹åºåº”å½“ä½¿ç”¨`unique_copy`

```cpp
int main()
{
        istream_iterator<int> in_iter(cin), eof;
        vector<int> vec(in_iter, eof);
        sort(vec.begin(), vec.end());
        unique_copy(vec.begin(), vec.end(),
                        ostream_iterator<int>(cout, " "));
}
```

### ç¼–å†™ç¨‹åºï¼Œæ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼šä¸€ä¸ªè¾“å…¥æ–‡ä»¶å’Œä¸¤ä¸ªè¾“å‡ºæ–‡ä»¶çš„æ–‡ä»¶åã€‚è¾“å…¥æ–‡ä»¶ä¿å­˜çš„åº”è¯¥æ˜¯æ•´æ•°ã€‚ä½¿ç”¨`istream_iterator`è¯»å–è¾“å…¥æ–‡ä»¶ã€‚ä½¿ç”¨`ostream_iterator`å°†å¥‡æ•°å†™å…¥ç¬¬ä¸€ä¸ªè¾“å‡ºæ–‡ä»¶ï¼Œæ¯ä¸ªå€¼ä¹‹åè·Ÿä¸€ä¸ªç©ºæ ¼ã€‚å°†å¶æ•°å†™å…¥ç¬¬äºŒä¸ªè¾“å‡ºæ–‡ä»¶ï¼Œæ¯ä¸ªå€¼éƒ½ç‹¬å ä¸€è¡Œ

```cpp
// test.cpp
#include <iostream>
#include <iterator>
#include <fstream>
#include <algorithm>
#include <functional>
#include <cstdlib>
#include <stdlib.h>

using namespace std;

int main(int argc, char** argv)
{
        if (argc != 4) { cout << "invalid parameters" << endl; }

        ifstream fin(argv[1], ifstream::in);
        ofstream fout_odd(argv[2], ofstream::out), fout_even(argv[3], ofstream::out);

        istream_iterator<int> fin_iter(fin), eof;

        for_each(fin_iter, eof,
                [&](const int& i) -> void
                {
                        if (i % 2) { fout_odd << i << ' '; }
                        else { fout_even << i << '\n'; }
                });

        cout << "program finished, please check file " << argv[2] << " and " << argv[3] << endl;
        system("pause");
}
```

```
// test.txt
1
2
3
4
5
6
7
8
```

```bash
// æ‰§è¡Œè„šæœ¬ï¼š run.sh
if [ -f test.exe ]
then
        rm test.exe
fi;

g++ -o test.exe test.cpp

if [ -f test.exe ]
then
        if [ -f test.txt ]
        then
                ./test.exe test.txt test_out_odd.txt test_out_even.txt
        else
                echo "file test.txt not found"
        fi;
else
        echo "compiling failed"
fi;
```

è¿è¡Œæ–¹æ³•ï¼šå°†`test.cpp`ã€`test.txt`ä»¥åŠ`run.sh`æ”¾åˆ°åŒä¸€ä¸ªæ–‡ä»¶ï¼Œè¿è¡Œ`run.sh`æ–‡ä»¶

# åå‘è¿­ä»£å™¨â€”â€”reverse iterator

![](å†æ¢è¿­ä»£å™¨/Untitled.png)

## ç§»åŠ¨åå‘è¿­ä»£å™¨

```cpp
#include <iostream>
#include <vector>

using namespace std;

int main()
{
        vector<int> vec({1, 2, 3, 4, 5});
        for (vector<int>::reverse_iterator rite = vec.rbegin(); rite != vec.rend(); rite++)
        {
                cout << *rite << " ";
        }
}
// è¾“å…¥ï¼š5 4 3 2 1
```

ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨åå‘è¿­ä»£å™¨ä¸­ï¼Œ**æˆ‘ä»¬ä½¿ç”¨`++`æ¥å‘å‰ç§»åŠ¨ï¼Œä½¿ç”¨`--`æ¥å‘åç§»åŠ¨ï¼ˆå‰ææ˜¯å®¹å™¨æ”¯æŒè¿™æ ·çš„æ“ä½œï¼‰**

## åå‘è¿­ä»£å™¨ä¸å…¶ä»–è¿­ä»£å™¨ä¹‹é—´çš„å…³ç³»

è€ƒè™‘è¿™ä¸ªä¾‹å­ï¼šåœ¨ä¸€ä¸ª`string`ä¸­ï¼Œæœ‰ä¸€ä¸ªä¸ªå•è¯ï¼Œå…¶ä¸­ç”±é€—å·éš”å¼€ï¼Œå‡å¦‚æˆ‘ä»¬æƒ³è¦æ‰¾åˆ°æœ€åä¸€ä¸ªå•è¯å¹¶å°†å…¶æ‰“å°ï¼Œæˆ‘ä»¬åº”å½“å¦‚ä½•æ“ä½œï¼Ÿ

ç­”æ¡ˆæ˜¯æ˜¾è€Œæ˜“è§çš„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åå‘è¿­ä»£å™¨ï¼š

```cpp
string str = "Do,you,want,to,build,a,snowman";
// ä¸‹é¢è¿™æ¡è¯­å¥æœ‰ä¸¤ä¸ªå¾ˆé‡è¦çš„åœ°æ–¹ï¼š
// é¦–å…ˆè¿”å›çš„å¿…é¡»æ˜¯const_reverse_iteratorï¼ˆå½“ç„¶ä½ å¯ä»¥å·æ‡’ç”¨autoï¼‰
// å…¶æ¬¡ï¼Œæ¯”è¾ƒçš„å€¼å¿…é¡»æ˜¯',' ï¼Œè€Œä¸æ˜¯","ã€‚åŸå› æ¶‰åŠåˆ°å®¹å™¨çš„ä¸€ä¸ªç‰¹å¾value_typeï¼Œåœ¨æ­¤ä¸åšå±•å¼€
string::const_reverse_iterator comma = find(str.rbegin(), str.rend(), ',');
```

è¿™æ ·ï¼Œæˆ‘ä»¬å°±æ‰¾åˆ°äº†æœ€åä¸€ä¸ªé€—å·ï¼Œç„¶åæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿­ä»£å™¨å°†å…¶åé¢çš„å†…å®¹æ‰“å°ã€‚ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äº`comma`æ˜¯ä¸€ä¸ªåå‘è¿­ä»£å™¨ï¼Œæˆ‘ä»¬éœ€è¦ç”¨ä¸€ä¸ªåå‘è¿­ä»£å™¨æ¥ä¸ä¹‹é…å¯¹ã€‚æ¢è¨€ä¹‹ï¼Œè¿™æ ·çš„ä»£ç æ˜¯è¡Œä¸é€šçš„ï¼š

![](å†æ¢è¿­ä»£å™¨/Untitled%201.png)

å½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·ï¼š

![](å†æ¢è¿­ä»£å™¨/Untitled%202.png)

ä½†è¿™ä¸ªã€‚ã€‚æœªå…æœ‰äº›ã€‚ã€‚ã€‚

---

æˆ‘ä»¬çš„æƒ³æ³•å½“ç„¶æ˜¯å¯ä»¥ä½¿ç”¨`string`çš„æ„é€ å‡½æ•°ï¼Œæˆ–è€…æ˜¯ä½¿ç”¨æ³›å‹ç®—æ³•ã€‚é‚£ä¹ˆæˆ‘ä»¬å¯èƒ½ä¼šè¿™æ ·å†™ï¼š

```cpp
// æ³›å‹ç®—æ³•
copy(str.crbegin(), comma, ostream_iterator<string::value_type>(cout));
cout << endl;
// stringæ„é€ å‡½æ•°
cout << string(str.crbegin(), comma) << endl;
```

è¿™æ˜¯è¿è¡Œç»“æœï¼š

```cpp
namwons
namwons
```

æˆ‘ä»¬ä¼šå°´å°¬çš„å‘ç°ï¼Œåå‘è¿­ä»£å™¨ä¼šå°†æˆ‘ä»¬æƒ³è¦çš„ä¸œè¥¿â€œåè¿‡æ¥â€ã€‚å½“ç„¶æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨æ³›å‹ç®—æ³•`reverse`ï¼Œä½†æ˜¯ï¼Œæœ€ç®€å•çš„æ–¹æ³•å½“ç„¶æ˜¯æˆ‘ä»¬èƒ½å¤Ÿè®©`comma`å˜ä¸ºä¸€ä¸ªæ­£å‘è¿­ä»£å™¨ï¼Œç„¶åæˆ‘ä»¬å°±å¯ä»¥è¿›è¡Œæ­£å¸¸æ“ä½œã€‚

## `reverse_iterator.base()`

![](å†æ¢è¿­ä»£å™¨/Untitled%203.png)

# ç§»åŠ¨è¿­ä»£å™¨â€”â€”move iterator